# Production Environment Configuration
# Copy this file to .env.production and fill in actual values
# DO NOT commit .env.production to git (it's in .gitignore)

# ========================================
# Environment Mode
# ========================================
POKER_ENV=production

# ========================================
# GCP Project Configuration
# ========================================
GCP_PROJECT=gg-poker-prod
GCP_REGION=us-central1
GCP_ZONE=us-central1-a

# ========================================
# BigQuery Configuration
# ========================================
BIGQUERY_DATASET=prod
BIGQUERY_LOCATION=us-central1

# BigQuery Tables
BIGQUERY_TABLE_HAND_SUMMARY=hand_summary
BIGQUERY_TABLE_VIDEO_FILES=video_files
BIGQUERY_TABLE_TIMECODE_VALIDATION=timecode_validation
BIGQUERY_TABLE_HAND_EMBEDDINGS=hand_embeddings
BIGQUERY_TABLE_CLIPPING_REQUESTS=clipping_requests

# ========================================
# Cloud Storage Configuration
# ========================================
GCS_BUCKET_SOURCE=gg-poker-source
GCS_BUCKET_PROXIES=gg-poker-proxies
GCS_BUCKET_CLIPS=gg-subclips

# Full paths (with gs:// prefix)
GCS_PATH_SOURCE=gs://gg-poker-source
GCS_PATH_PROXIES=gs://gg-poker-proxies
GCS_PATH_CLIPS=gs://gg-subclips

# ========================================
# Service Accounts (for local development)
# ========================================
# Use Application Default Credentials for production
# gcloud auth application-default login

# Or specify service account key file path (NOT recommended for production)
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# ========================================
# M1: Data Ingestion Service
# ========================================
M1_SERVICE_ACCOUNT=m1-dataflow-sa@gg-poker-prod.iam.gserviceaccount.com
M1_DATAFLOW_TEMP_LOCATION=gs://gg-poker-source/temp
M1_DATAFLOW_STAGING_LOCATION=gs://gg-poker-source/staging

# ========================================
# M2: Video Metadata Service
# ========================================
M2_SERVICE_ACCOUNT=m2-video-metadata-sa@gg-poker-prod.iam.gserviceaccount.com
M2_NAS_MOUNT_PATH=/nas/poker
M2_PROXY_RESOLUTION=1280x720
M2_PROXY_BITRATE=2000k

# ========================================
# M3: Timecode Validation Service
# ========================================
M3_SERVICE_ACCOUNT=m3-timecode-validation-sa@gg-poker-prod.iam.gserviceaccount.com
M3_VISION_API_ENABLED=true
M3_CONFIDENCE_THRESHOLD=0.8
M3_SYNC_SCORE_THRESHOLD=80

# ========================================
# M4: RAG Search Service
# ========================================
M4_SERVICE_ACCOUNT=m4-rag-search-sa@gg-poker-prod.iam.gserviceaccount.com
M4_VERTEX_AI_LOCATION=us-central1
M4_EMBEDDING_MODEL=textembedding-gecko-004
M4_VECTOR_SEARCH_INDEX=poker-hands-index
M4_SEARCH_TOP_K=10

# ========================================
# M5: Clipping Service
# ========================================
M5_SERVICE_ACCOUNT=m5-clipping-sa@gg-poker-prod.iam.gserviceaccount.com
M5_PUBSUB_TOPIC_REQUESTS=clipping-requests
M5_PUBSUB_TOPIC_COMPLETE=clipping-complete
M5_PUBSUB_SUBSCRIPTION=clipping-worker
M5_CLIP_FORMAT=mp4
M5_CLIP_CODEC=libx264
M5_CLIP_PRESET=fast

# ========================================
# M6: Web UI Service
# ========================================
# API URLs (Cloud Run or custom domain)
NEXT_PUBLIC_API_BASE_URL=https://api.poker-brain.ggproduction.net
NEXT_PUBLIC_M4_API_URL=https://rag-search-service-prod.run.app
NEXT_PUBLIC_M5_API_URL=https://clipping-service-prod.run.app

# Frontend Configuration
NEXT_PUBLIC_APP_NAME=POKER-BRAIN
NEXT_PUBLIC_APP_VERSION=2.0.0
NEXT_PUBLIC_ENVIRONMENT=production

# ========================================
# Monitoring & Logging
# ========================================
# Cloud Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# Cloud Monitoring
MONITORING_ENABLED=true
METRICS_EXPORT_INTERVAL=60

# ========================================
# Security
# ========================================
# CORS
CORS_ALLOWED_ORIGINS=https://poker-brain.ggproduction.net

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_ENABLED=true

# ========================================
# Deployment Configuration
# ========================================
# Cloud Run
CLOUD_RUN_REGION=us-central1
CLOUD_RUN_CPU=1
CLOUD_RUN_MEMORY=512Mi
CLOUD_RUN_MAX_INSTANCES=10
CLOUD_RUN_MIN_INSTANCES=0
CLOUD_RUN_TIMEOUT=300

# Vercel (for M6)
VERCEL_ORG_ID=your-org-id-here
VERCEL_PROJECT_ID=your-project-id-here

# ========================================
# Cost Management
# ========================================
# Budget alerts configured in GCP Console
MONTHLY_BUDGET_USD=200
ALERT_THRESHOLD_PERCENT=90

# ========================================
# Feature Flags (Optional)
# ========================================
FEATURE_VISION_API=true
FEATURE_AUTOCOMPLETE=true
FEATURE_FAVORITES=true
FEATURE_DOWNLOAD_HISTORY=true
FEATURE_ADMIN_PANEL=false

# ========================================
# Contact Information
# ========================================
ADMIN_EMAIL=aiden.kim@ggproduction.net
SUPPORT_EMAIL=support@ggproduction.net
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
